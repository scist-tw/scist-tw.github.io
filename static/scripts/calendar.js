document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".calendar-container"),t=e.querySelector(".calendar-grid"),n=e.querySelector(".calendar-current-date"),a=e.querySelector(".calendar-prev"),d=e.querySelector(".calendar-next");let r=new Date;function c(){const e=r.getFullYear(),a=r.getMonth();n.textContent=`${e} 年 ${a+1} 月`;const d=new Date(e,a,1),c=new Date(e,a+1,0).getDate(),l=d.getDay();t.innerHTML="";for(let n=1;n<=c;n++){const d=document.createElement("div");d.classList.add("calendar-grid-day"),d.textContent=n,d.dataset.date=n,o(e,a,n)&&d.classList.add("has-event"),t.appendChild(d)}for(let e=0;e<l;e++){const e=document.createElement("div");e.classList.add("calendar-grid-day","is-empty"),t.insertBefore(e,t.firstChild)}}function o(e,t,n){return calendar.events.some((a=>a.date.year===e&&a.date.month===t+1&&a.date.day===n))}a.addEventListener("click",(function(){r.setMonth(r.getMonth()-1),c()})),d.addEventListener("click",(function(){r.setMonth(r.getMonth()+1),c()})),c()}));
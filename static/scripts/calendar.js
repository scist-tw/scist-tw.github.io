document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".calendar-container"),t=e.querySelector(".calendar-grid"),n=e.querySelector(".calendar-current-date"),a=e.querySelector(".calendar-prev"),c=e.querySelector(".calendar-next");let o=new Date;function r(){const e=o.getFullYear(),a=o.getMonth();n.textContent=`${e} 年 ${a+1} 月`;const c=new Date(e,a,1),r=new Date(e,a+1,0).getDate(),d=c.getDay();t.querySelectorAll(".calendar-grid-day").forEach(((t,n)=>{t.textContent="",t.classList.remove("has-event","is-today","is-empty");const c=n-d+1;c>0&&c<=r?(t.textContent=c,t.dataset.date=c,function(e,t,n){return calendar.events.some((a=>a.date.year===e&&a.date.month===t+1&&a.date.day===n))}(e,a,c)&&t.classList.add("has-event"),function(e,t,n){const a=new Date;return e===a.getFullYear()&&t===a.getMonth()&&n===a.getDate()}(e,a,c)&&t.classList.add("is-today")):t.classList.add("is-empty")}))}a.addEventListener("click",(function(){o.setMonth(o.getMonth()-1),r()})),c.addEventListener("click",(function(){o.setMonth(o.getMonth()+1),r()})),r()}));